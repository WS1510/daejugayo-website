<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - ëŒ€ì£¼ê°€ìš”</title>
    <link rel="stylesheet" href="styles.css">
    <!-- SheetJS ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ (Excel íŒŒì¼ ìƒì„±ìš©) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding-top: 100px; /* ë„¤ë¹„ê²Œì´ì…˜ë°”ë¥¼ ìœ„í•œ íŒ¨ë”© */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            color: #718096;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1em;
            color: #718096;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            font-size: 1.8em;
            color: #4a5568;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .applicant-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .applicant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .applicant-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        /* ì‹¤ì‹œê°„ ìƒíƒœ ë³€ê²½ ì• ë‹ˆë©”ì´ì…˜ */
        .applicant-item.approved-animation {
            background: #d4edda !important;
            border-left: 4px solid #28a745 !important;
            animation: approveGlow 2s ease-in-out;
        }

        .applicant-item.rejected-animation {
            background: #f8d7da !important;
            border-left: 4px solid #dc3545 !important;
            animation: rejectSlide 0.3s ease-out forwards;
        }

        @keyframes approveGlow {
            0% { transform: scale(1); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); }
            50% { transform: scale(1.02); box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3); }
            100% { transform: scale(1); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); }
        }

        @keyframes rejectSlide {
            0% { opacity: 1; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(-100%); }
        }

        /* ë²„íŠ¼ ì œê±° ì• ë‹ˆë©”ì´ì…˜ */
        .action-buttons.removing {
            animation: fadeOut 0.3s ease-out forwards;
        }

        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.8); }
        }

        .applicant-info h3 {
            color: #4a5568;
            margin-bottom: 5px;
        }

        .applicant-info p {
            color: #718096;
            font-size: 0.9em;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .status-pending {
            background: #fed7d7;
            color: #c53030;
        }

        .status-approved {
            background: #c6f6d5;
            color: #2f855a;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-approve {
            background: #48bb78;
            color: white;
        }

        .btn-approve:hover {
            background: #38a169;
        }

        .btn-reject {
            background: #f56565;
            color: white;
        }

        .btn-reject:hover {
            background: #e53e3e;
        }

        .btn-primary {
            background: #667eea;
            color: white;
            padding: 15px 30px;
            font-size: 1.1em;
            margin: 10px 5px;
        }

        .btn-primary:hover {
            background: #5a67d8;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .notification {
            background: #bee3f8;
            border: 1px solid #90cdf4;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .notification.success {
            background: #c6f6d5;
            border-color: #9ae6b4;
            color: #2f855a;
        }

        .notification.warning {
            background: #fefcbf;
            border-color: #f6e05e;
            color: #d69e2e;
        }

        .empty-state {
            background: #f7fafc;
            border: 2px dashed #cbd5e0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            color: #718096;
        }

        .empty-state h3 {
            margin-bottom: 10px;
            color: #4a5568;
        }

        /* ì§€ì›ì„œ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            /* Flexboxë¡œ ì¤‘ì•™ì •ë ¬ */
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background-color: white;
            padding: 0;
            border-radius: 15px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
            transform: scale(0.7);
            opacity: 0;
            transition: all 0.3s ease;
            /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
        }

        /* Webkit ë¸Œë¼ìš°ì € (Chrome, Safari) ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        .modal-content::-webkit-scrollbar {
            display: none;
        }

        .modal.show .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            line-height: 1;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-body {
            padding: 30px;
        }

        .application-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
        }

        .application-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .info-item {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .info-label {
            font-size: 0.9em;
            color: #718096;
            margin-bottom: 5px;
        }

        .info-value {
            font-weight: bold;
            color: #2d3748;
        }

        .applicant-name {
            cursor: pointer;
            color: #667eea;
            text-decoration: underline;
        }

        .applicant-name:hover {
            color: #5a67d8;
        }

        /* ëª¨ë°”ì¼ ëª¨ë‹¬ ìµœì í™” */
        @media (max-width: 768px) {
            .modal {
                padding: 10px;
            }
            
            .modal-content {
                max-height: 95vh;
                width: 100%;
            }
            
            .modal-header {
                padding: 15px 20px;
            }
            
            .modal-header h2 {
                font-size: 1.3em;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .applicant-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="nav-logo">ğŸµ PLAYLOG SOUNDLAB</h1>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">ğŸ  ë©”ì¸ì‚¬ì´íŠ¸</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link admin-welcome">ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì ëª¨ë“œ</a>
                    </li>
                </ul>
                <div class="nav-toggle" onclick="toggleMobileMenu()">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <h1>ê´€ë¦¬ì í˜ì´ì§€</h1>
            <p>ë³´ì»¬ ì§€ì›ì ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
        </div>

        <!-- í†µê³„ ì¹´ë“œ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-number" id="total-count">0</div>
                <div class="stat-label">ì´ ì§€ì›ì</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-number" id="approved-count">0</div>
                <div class="stat-label">ìŠ¹ì¸ ì™„ë£Œ</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">â³</div>
                <div class="stat-number" id="pending-count">0</div>
                <div class="stat-label">ì‹¬ì‚¬ ëŒ€ê¸°</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âŒ</div>
                <div class="stat-number" id="rejected-count">0</div>
                <div class="stat-label">ê±°ì ˆë¨</div>
            </div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <!-- ì§€ì›ì ëª©ë¡ -->
            <div class="section">
                <h2>ì§€ì›ì ê´€ë¦¬</h2>
                
                <div class="notification" id="notification" style="display: none;"></div>
                
                <div class="applicant-list" id="applicant-list">
                    <!-- ì§€ì›ì ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="empty-state" id="empty-state" style="text-align: center; padding: 40px; color: #718096;">
                        <div style="font-size: 3em; margin-bottom: 20px;">ğŸ“</div>
                        <h3>ì§€ì›ìê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p>ìƒˆë¡œìš´ ì§€ì›ìê°€ ë“±ë¡ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- ë¹ ë¥¸ ì‘ì—… -->
            <div class="section">
                <h2>âš¡ ë¹ ë¥¸ ì‘ì—…</h2>
                
                <div class="quick-actions">
                    <button class="btn btn-primary" onclick="generateAuthCode()">
                        ğŸ”‘ ì¸ì¦ì½”ë“œ ìƒì„±
                    </button>
                    <button class="btn btn-primary" onclick="sendNotifications()">
                        ğŸ“§ ê²°ê³¼ ì•Œë¦¼ ë°œì†¡
                    </button>
                    <button class="btn btn-primary" onclick="exportData()">
                        ğŸ“Š ë°ì´í„° ë‚´ë³´ë‚´ê¸°
                    </button>
                    <button class="btn btn-primary" onclick="refreshData()">
                        ğŸ”„ ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button class="btn btn-secondary" onclick="addTestApplicants()" style="background: #6b46c1;">
                        ğŸ§ª í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€
                    </button>
                    <button class="btn btn-secondary" onclick="showNotificationSettings()" style="background: #f59e0b;">
                        âš™ï¸ ì•Œë¦¼ ë°©ë²• ì„¤ì •
                    </button>
                    <button class="btn btn-danger" onclick="clearAllData()" style="background: #dc2626;">
                        ğŸ—‘ï¸ ëª¨ë“  ë°ì´í„° ì‚­ì œ
                    </button>
                </div>

                <div style="margin-top: 30px;">
                    <h3 style="color: #4a5568; margin-bottom: 15px;">ğŸ“‹ ìµœê·¼ í™œë™</h3>
                    <div style="background: #f7fafc; padding: 15px; border-radius: 10px;" id="recent-activity">
                        <p style="color: #718096; text-align: center;">ìµœê·¼ í™œë™ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì§€ì›ì„œ ë³´ê¸° ëª¨ë‹¬ -->
    <div id="applicationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ ì§€ì›ì„œ ìƒì„¸ë³´ê¸°</h2>
                <button class="close" onclick="closeApplicationModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- ì§€ì›ì„œ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <script>
        // ì§€ì›ì ë°ì´í„° ì €ì¥ì†Œ (ì‹¤ì œ ì„œë²„ ì—°ë™ ì „ê¹Œì§€ localStorage ì‚¬ìš©)
        let applicantsData = JSON.parse(localStorage.getItem('applicantsData')) || [];
        let rejectedCount = applicantsData.filter(a => a.status === 'rejected').length;

        // ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (ìƒˆë¡œìš´ í•„ë“œ ì¶”ê°€)
        function migrateData() {
            applicantsData = applicantsData.map(applicant => {
                if (!applicant.phone) {
                    return {
                        ...applicant,
                        phone: '010-0000-0000',
                        email: 'user@example.com',
                        experience: 'ì •ë³´ ì—†ìŒ',
                        motivation: 'ê¸°ì¡´ ì§€ì›ìì…ë‹ˆë‹¤.',
                        skills: ['ë°œì„±'],
                        availableTime: 'ì£¼ë§',
                        submitTime: applicant.date + ' ì˜¤í›„ 2:00'
                    };
                }
                return applicant;
            });
            saveData();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ê´€ë¦¬ì í˜ì´ì§€ ë¡œë“œ ì‹œì‘');
            console.log('ì´ˆê¸° ì§€ì›ì ë°ì´í„°:', applicantsData);
            console.log('ì´ˆê¸° ê±°ì ˆ ì¹´ìš´íŠ¸:', rejectedCount);
            
            checkAdminAccess();
            migrateData();
            loadApplicants();
            updateCounts();
            
            // ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í™•ì¸ ë° ì¶”ê°€
            checkButtonEvents();
            
            console.log('ê´€ë¦¬ì í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        });

        // ë²„íŠ¼ ì´ë²¤íŠ¸ í™•ì¸ ë° ìˆ˜ë™ ë°”ì¸ë”©
        function checkButtonEvents() {
            console.log('ë²„íŠ¼ ì´ë²¤íŠ¸ í™•ì¸ ì‹œì‘');
            
            // í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ë²„íŠ¼ í™•ì¸
            const testBtn = document.querySelector('button[onclick="addTestApplicants()"]');
            if (testBtn) {
                console.log('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ë²„íŠ¼ ì°¾ìŒ');
                // ê¸°ì¡´ onclick ì™¸ì— ì¶”ê°€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë°”ì¸ë”©
                testBtn.addEventListener('click', function(e) {
                    console.log('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ë²„íŠ¼ í´ë¦­ë¨');
                    e.preventDefault();
                    addTestApplicants();
                });
            } else {
                console.error('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
            }
            
            // ë°ì´í„° ì‚­ì œ ë²„íŠ¼ í™•ì¸
            const clearBtn = document.querySelector('button[onclick="clearAllData()"]');
            if (clearBtn) {
                console.log('ë°ì´í„° ì‚­ì œ ë²„íŠ¼ ì°¾ìŒ');
                // ê¸°ì¡´ onclick ì™¸ì— ì¶”ê°€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë°”ì¸ë”©
                clearBtn.addEventListener('click', function(e) {
                    console.log('ë°ì´í„° ì‚­ì œ ë²„íŠ¼ í´ë¦­ë¨');
                    e.preventDefault();
                    clearAllData();
                });
            } else {
                console.error('ë°ì´í„° ì‚­ì œ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
            }
            
            console.log('ë²„íŠ¼ ì´ë²¤íŠ¸ í™•ì¸ ì™„ë£Œ');
        }

        // ì „ì—­ ìŠ¤ì½”í”„ì— í•¨ìˆ˜ë“¤ì„ ëª…ì‹œì ìœ¼ë¡œ ë°”ì¸ë”©
        window.addTestApplicants = addTestApplicants;
        window.clearAllData = clearAllData;
        window.approveApplicant = approveApplicant;
        window.rejectApplicant = rejectApplicant;
        window.showNotificationSettings = showNotificationSettings;
        window.saveNotificationSettings = saveNotificationSettings;
        window.closeNotificationSettings = closeNotificationSettings;
        window.copyToClipboard = copyToClipboard;
        window.closeManualCodeModal = closeManualCodeModal;
        window.copyAllApprovedMessages = copyAllApprovedMessages;
        window.copyAllPendingMessages = copyAllPendingMessages;
        window.processBulkNotifications = processBulkNotifications;
        window.closeBulkNotificationModal = closeBulkNotificationModal;
        window.exportData = exportData;
        window.exportDataAsCSV = exportDataAsCSV;
        window.generateAuthCode = generateAuthCode;
        window.sendNotifications = sendNotifications;
        window.refreshData = refreshData;

        // ì‹¤ì‹œê°„ ì§€ì›ì ìš”ì†Œ ì—…ë°ì´íŠ¸ (ìŠ¹ì¸ ì‹œ)
        function updateApplicantElementRealtime(id, newStatus) {
            console.log('ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸ ì‹œì‘:', id, newStatus);
            
            const applicantElement = document.querySelector(`[data-id="${id}"]`);
            if (!applicantElement) {
                console.error('ì§€ì›ì ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', id);
                return;
            }
            
            // ìŠ¹ì¸ ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ ì¶”ê°€
            applicantElement.classList.add('approved-animation');
            
            // ìƒíƒœ ë°°ì§€ ì—…ë°ì´íŠ¸
            const statusBadge = applicantElement.querySelector('.status-badge');
            if (statusBadge) {
                statusBadge.className = 'status-badge status-approved';
                statusBadge.textContent = 'ìŠ¹ì¸ ì™„ë£Œ';
                console.log('ìƒíƒœ ë°°ì§€ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
            }
            
            // ì•¡ì…˜ ë²„íŠ¼ë“¤ì„ ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜ ì œê±°
            const actionButtons = applicantElement.querySelector('.action-buttons');
            if (actionButtons) {
                actionButtons.classList.add('removing');
                setTimeout(() => {
                    actionButtons.remove();
                    console.log('ì•¡ì…˜ ë²„íŠ¼ ì œê±° ì™„ë£Œ');
                }, 300);
            }
            
            // ë°ì´í„° ì†ì„± ì—…ë°ì´íŠ¸
            applicantElement.setAttribute('data-status', 'approved');
            
            // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ í´ë˜ìŠ¤ ì œê±°
            setTimeout(() => {
                applicantElement.classList.remove('approved-animation');
            }, 2000);
            
            console.log('ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸ ì™„ë£Œ');
        }

        // ì‹¤ì‹œê°„ ì§€ì›ì ìš”ì†Œ ì œê±° (ê±°ì ˆ ì‹œ)
        function removeApplicantElementRealtime(id) {
            console.log('ì‹¤ì‹œê°„ ìš”ì†Œ ì œê±° ì‹œì‘:', id);
            
            const applicantElement = document.querySelector(`[data-id="${id}"]`);
            if (!applicantElement) {
                console.error('ì§€ì›ì ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', id);
                return;
            }
            
            // ê±°ì ˆ ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ ì¶”ê°€
            applicantElement.classList.add('rejected-animation');
            
            // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ìš”ì†Œ ì œê±°
            setTimeout(() => {
                applicantElement.remove();
                console.log('ìš”ì†Œ ì œê±° ì™„ë£Œ');
                
                // ë‚¨ì€ ì§€ì›ìê°€ ì—†ìœ¼ë©´ ë¹ˆ ìƒíƒœ í‘œì‹œ
                checkAndShowEmptyState();
            }, 300);
        }

        // ë¹ˆ ìƒíƒœ í™•ì¸ ë° í‘œì‹œ
        function checkAndShowEmptyState() {
            const applicantList = document.getElementById('applicant-list');
            const emptyState = document.getElementById('empty-state');
            
            if (applicantList && applicantList.children.length === 0) {
                if (emptyState) {
                    emptyState.style.display = 'block';
                    console.log('ë¹ˆ ìƒíƒœ í‘œì‹œ');
                }
            }
        }

        // ê³ ìœ  ì¸ì¦ì½”ë“œ ìƒì„±
        function generateUniqueAuthCode() {
            const prefix = 'VOCAL';
            const timestamp = Date.now().toString().slice(-6); // ë§ˆì§€ë§‰ 6ìë¦¬
            const random = Math.random().toString(36).substr(2, 4).toUpperCase();
            return `${prefix}${timestamp}${random}`;
        }

        // ìŠ¹ì¸ ì•Œë¦¼ ë°œì†¡ (í†µí•© í•¨ìˆ˜)
        function sendApprovalNotification(applicant, authCode) {
            console.log('ì¸ì¦ì½”ë“œ ë°œì†¡ ì‹œì‘:', applicant.name, authCode);
            
            // ë°œì†¡ ë°©ë²• ì„ íƒ (ì„¤ì •ì—ì„œ ë³€ê²½ ê°€ëŠ¥)
            const notificationMethod = getNotificationMethod();
            
            switch(notificationMethod) {
                case 'email':
                    sendApprovalEmail(applicant, authCode);
                    break;
                case 'sms':
                    sendApprovalSMS(applicant, authCode);
                    break;
                case 'kakao':
                    sendKakaoNotification(applicant, authCode);
                    break;
                case 'manual':
                default:
                    showManualCodeModal(applicant, authCode);
                    break;
            }
        }

        // ì•Œë¦¼ ë°©ë²• ì„¤ì • ê°€ì ¸ì˜¤ê¸°
        function getNotificationMethod() {
            return localStorage.getItem('notificationMethod') || 'manual';
        }

        // ì´ë©”ì¼ ë°œì†¡ (EmailJS ì‚¬ìš© ì˜ˆì‹œ)
        function sendApprovalEmail(applicant, authCode) {
            console.log('ì´ë©”ì¼ ë°œì†¡:', applicant.email);
            
            // EmailJSë‚˜ ì„œë²„ API í˜¸ì¶œ
            // ì‹¤ì œ êµ¬í˜„ì‹œ EmailJS ë˜ëŠ” ë°±ì—”ë“œ API ì—°ë™ í•„ìš”
            
            // ì„ì‹œ: ì½˜ì†”ì— ì´ë©”ì¼ ë‚´ìš© í‘œì‹œ
            const emailContent = `
ğŸ“§ ì´ë©”ì¼ ë°œì†¡ ë‚´ìš©:
ë°›ëŠ” ì‚¬ëŒ: ${applicant.email}
ì œëª©: [ëŒ€ì£¼ê°€ìš”] ë³´ì»¬ ì˜¤ë””ì…˜ í•©ê²© ì•ˆë‚´

${applicant.name}ë‹˜, ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰

ëŒ€ì£¼ê°€ìš” ì‹œì¦Œ2 ë³´ì»¬ ì˜¤ë””ì…˜ì— í•©ê²©í•˜ì…¨ìŠµë‹ˆë‹¤.
ê³µì—° ì°¸ì—¬ ì‹ ì²­ì‹œ ì•„ë˜ ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.

ì¸ì¦ì½”ë“œ: ${authCode}

ê³µì—° ì°¸ì—¬ ì‹ ì²­: https://daejugayo.com
ë¬¸ì˜: playlogsoundlab@gmail.com

PLAYLOG SOUNDLAB
            `;
            
            console.log(emailContent);
            
            // ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜
            simulateEmailSending(applicant, authCode, emailContent);
        }

        // SMS ë°œì†¡
        function sendApprovalSMS(applicant, authCode) {
            console.log('SMS ë°œì†¡:', applicant.phone);
            
            const smsContent = `ì•ˆë…•í•˜ì„¸ìš”
ëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤!
${applicant.name}ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©!
ì¸ì¦ì½”ë“œ: ${authCode}
ê³µì—°ì‹ ì²­ ì•ˆë‚´
[ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤!`;
            
            console.log('ğŸ“± SMS ë°œì†¡ ë‚´ìš©:', smsContent);
            
            // ì‹¤ì œ SMS ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜
            simulateSMSSending(applicant, authCode, smsContent);
        }

        // ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡ ë°œì†¡
        function sendKakaoNotification(applicant, authCode) {
            console.log('ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡ ë°œì†¡:', applicant.phone);
            
            const kakaoContent = `ğŸ¤ ëŒ€ì£¼ê°€ìš” í•©ê²© ì•ˆë‚´

${applicant.name}ë‹˜, ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!
ë³´ì»¬ ì˜¤ë””ì…˜ì— í•©ê²©í•˜ì…¨ìŠµë‹ˆë‹¤.

ğŸ“ ì¸ì¦ì½”ë“œ: ${authCode}
ğŸ—“ ê³µì—° ì‹ ì²­: ì›¹ì‚¬ì´íŠ¸ ì ‘ì† í›„ ì§„í–‰
ğŸ“§ ë¬¸ì˜: playlogsoundlab@gmail.com

PLAYLOG SOUNDLAB`;
            
            console.log('ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ë‚´ìš©:', kakaoContent);
            
            // ì‹¤ì œ ì¹´ì¹´ì˜¤í†¡ ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜
            simulateKakaoSending(applicant, authCode, kakaoContent);
        }

        // ìˆ˜ë™ ì½”ë“œ ëª¨ë‹¬ í‘œì‹œ
        function showManualCodeModal(applicant, authCode) {
            const modalContent = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; margin: 20px;">
                    <h3 style="color: #4a5568; margin-bottom: 20px;">âœ… ${applicant.name}ë‹˜ ìŠ¹ì¸ ì™„ë£Œ</h3>
                    
                    <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <h4 style="color: #2d3748; margin-bottom: 10px;">ğŸ“‹ ë°œì†¡í•  ë‚´ìš©</h4>
                        <p><strong>ì—°ë½ì²˜:</strong> ${applicant.phone}</p>
                        <p><strong>ì´ë©”ì¼:</strong> ${applicant.email}</p>
                        <p><strong>ì¸ì¦ì½”ë“œ:</strong> <span style="font-size: 1.2em; color: #e53e3e; font-weight: bold;">${authCode}</span></p>
                    </div>
                    
                    <div style="background: #e6fffa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <p style="margin: 0; color: #2c7a7b;">
                            ğŸ“± <strong>ê¶Œì¥ ë°œì†¡ ë©”ì‹œì§€:</strong><br>
                            "ì•ˆë…•í•˜ì„¸ìš”<br>ëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤!<br>${applicant.name}ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©!<br>ì¸ì¦ì½”ë“œ: ${authCode}<br>ê³µì—°ì‹ ì²­ ì•ˆë‚´<br>[ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤!"
                        </p>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button onclick="copyToClipboard('${authCode}')" style="flex: 1; padding: 12px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸ“‹ ì¸ì¦ì½”ë“œ ë³µì‚¬
                        </button>
                        <button onclick="copyToClipboard('ì•ˆë…•í•˜ì„¸ìš”\nëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤!\n${applicant.name}ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©!\nì¸ì¦ì½”ë“œ: ${authCode}\nê³µì—°ì‹ ì²­ ì•ˆë‚´\n[ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤!')" style="flex: 2; padding: 12px; background: #48bb78; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸ’¬ ë©”ì‹œì§€ ë³µì‚¬
                        </button>
                        <button onclick="closeManualCodeModal()" style="flex: 1; padding: 12px; background: #a0aec0; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            `;
            
            // ëª¨ë‹¬ ë°°ê²½ ìƒì„±
            const modalBg = document.createElement('div');
            modalBg.id = 'manual-code-modal';
            modalBg.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;
                z-index: 1000;
            `;
            modalBg.innerHTML = modalContent;
            
            document.body.appendChild(modalBg);
        }

        // í´ë¦½ë³´ë“œ ë³µì‚¬
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }).catch(() => {
                // í´ë¦½ë³´ë“œ API ì‹¤íŒ¨ì‹œ ëŒ€ì²´ ë°©ë²•
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            });
        }

        // ìˆ˜ë™ ì½”ë“œ ëª¨ë‹¬ ë‹«ê¸°
        function closeManualCodeModal() {
            const modal = document.getElementById('manual-code-modal');
            if (modal) {
                modal.remove();
            }
        }

        // ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜ í•¨ìˆ˜ë“¤
        function simulateEmailSending(applicant, authCode, content) {
            setTimeout(() => {
                console.log('âœ… ì´ë©”ì¼ ë°œì†¡ ì™„ë£Œ (ì‹œë®¬ë ˆì´ì…˜)');
                addRecentActivity(`ğŸ“§ ${applicant.name}ë‹˜ê»˜ ì´ë©”ì¼ ë°œì†¡ ì™„ë£Œ`, 'ë°©ê¸ˆ ì „');
            }, 1000);
        }

        function simulateSMSSending(applicant, authCode, content) {
            setTimeout(() => {
                console.log('âœ… SMS ë°œì†¡ ì™„ë£Œ (ì‹œë®¬ë ˆì´ì…˜)');
                addRecentActivity(`ğŸ“± ${applicant.name}ë‹˜ê»˜ SMS ë°œì†¡ ì™„ë£Œ`, 'ë°©ê¸ˆ ì „');
            }, 800);
        }

        function simulateKakaoSending(applicant, authCode, content) {
            setTimeout(() => {
                console.log('âœ… ì¹´ì¹´ì˜¤í†¡ ë°œì†¡ ì™„ë£Œ (ì‹œë®¬ë ˆì´ì…˜)');
                addRecentActivity(`ğŸ’¬ ${applicant.name}ë‹˜ê»˜ ì¹´ì¹´ì˜¤í†¡ ë°œì†¡ ì™„ë£Œ`, 'ë°©ê¸ˆ ì „');
            }, 1200);
        }

        // ì•Œë¦¼ ë°©ë²• ì„¤ì • ëª¨ë‹¬ í‘œì‹œ
        function showNotificationSettings() {
            const currentMethod = getNotificationMethod();
            
            const modalContent = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 600px; margin: 20px;">
                    <h3 style="color: #4a5568; margin-bottom: 20px;">âš™ï¸ ìŠ¹ì¸ ì•Œë¦¼ ë°©ë²• ì„¤ì •</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <p style="color: #718096; margin-bottom: 15px;">ì§€ì›ì ìŠ¹ì¸ ì‹œ ì¸ì¦ì½”ë“œë¥¼ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ë°œì†¡í• ì§€ ì„ íƒí•˜ì„¸ìš”.</p>
                        
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <label style="display: flex; align-items: center; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; cursor: pointer; ${currentMethod === 'manual' ? 'background: #e6fffa; border-color: #38b2ac;' : ''}">
                                <input type="radio" name="notificationMethod" value="manual" ${currentMethod === 'manual' ? 'checked' : ''} style="margin-right: 15px;">
                                <div>
                                    <strong>ğŸ“‹ ìˆ˜ë™ ë°œì†¡ (í˜„ì¬ ì¶”ì²œ)</strong>
                                    <p style="margin: 5px 0 0 0; color: #718096; font-size: 0.9em;">ìŠ¹ì¸ ì‹œ ëª¨ë‹¬ì°½ì— ì¸ì¦ì½”ë“œì™€ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ë³µì‚¬í•´ì„œ ì§ì ‘ ì—°ë½í•˜ì„¸ìš”.</p>
                                </div>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; cursor: pointer; ${currentMethod === 'email' ? 'background: #e6fffa; border-color: #38b2ac;' : ''}">
                                <input type="radio" name="notificationMethod" value="email" ${currentMethod === 'email' ? 'checked' : ''} style="margin-right: 15px;">
                                <div>
                                    <strong>ğŸ“§ ì´ë©”ì¼ ìë™ ë°œì†¡</strong>
                                    <p style="margin: 5px 0 0 0; color: #718096; font-size: 0.9em;">EmailJS ì—°ë™ í•„ìš”. ìë™ìœ¼ë¡œ ì´ë©”ì¼ì´ ë°œì†¡ë©ë‹ˆë‹¤.</p>
                                    <p style="margin: 2px 0 0 0; color: #f56565; font-size: 0.8em;">âš ï¸ ì¶”ê°€ ì„¤ì • í•„ìš”</p>
                                </div>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; cursor: pointer; ${currentMethod === 'sms' ? 'background: #e6fffa; border-color: #38b2ac;' : ''}">
                                <input type="radio" name="notificationMethod" value="sms" ${currentMethod === 'sms' ? 'checked' : ''} style="margin-right: 15px;">
                                <div>
                                    <strong>ğŸ“± SMS ìë™ ë°œì†¡</strong>
                                    <p style="margin: 5px 0 0 0; color: #718096; font-size: 0.9em;">SMS API ì—°ë™ í•„ìš”. íœ´ëŒ€í°ìœ¼ë¡œ ë¬¸ìê°€ ë°œì†¡ë©ë‹ˆë‹¤.</p>
                                    <p style="margin: 2px 0 0 0; color: #f56565; font-size: 0.8em;">âš ï¸ ì¶”ê°€ ì„¤ì • ë° ë¹„ìš© í•„ìš”</p>
                                </div>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; cursor: pointer; ${currentMethod === 'kakao' ? 'background: #e6fffa; border-color: #38b2ac;' : ''}">
                                <input type="radio" name="notificationMethod" value="kakao" ${currentMethod === 'kakao' ? 'checked' : ''} style="margin-right: 15px;">
                                <div>
                                    <strong>ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡</strong>
                                    <p style="margin: 5px 0 0 0; color: #718096; font-size: 0.9em;">ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ API ì—°ë™ í•„ìš”. ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.</p>
                                    <p style="margin: 2px 0 0 0; color: #f56565; font-size: 0.8em;">âš ï¸ ì‚¬ì—…ì ë“±ë¡ ë° ìŠ¹ì¸ í•„ìš”</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div style="background: #f7fafc; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: #4a5568; margin-bottom: 10px;">ğŸ’¡ êµ¬í˜„ ê°€ì´ë“œ</h4>
                        <ul style="color: #718096; margin: 0; padding-left: 20px;">
                            <li><strong>ì´ë©”ì¼:</strong> EmailJS (ë¬´ë£Œ) ë˜ëŠ” SendGrid API ì—°ë™</li>
                            <li><strong>SMS:</strong> ì•Œë¦¬ê³ , ì¿¨SMS, NCP SENS API ì—°ë™</li>
                            <li><strong>ì¹´ì¹´ì˜¤í†¡:</strong> ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì • + ì•Œë¦¼í†¡ í…œí”Œë¦¿ ìŠ¹ì¸</li>
                        </ul>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 25px;">
                        <button onclick="saveNotificationSettings()" style="flex: 1; padding: 12px; background: #48bb78; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            âœ… ì„¤ì • ì €ì¥
                        </button>
                        <button onclick="closeNotificationSettings()" style="flex: 1; padding: 12px; background: #a0aec0; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            `;
            
            const modalBg = document.createElement('div');
            modalBg.id = 'notification-settings-modal';
            modalBg.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;
                z-index: 1000; overflow-y: auto; padding: 20px;
            `;
            modalBg.innerHTML = modalContent;
            
            document.body.appendChild(modalBg);
        }

        // ì•Œë¦¼ ë°©ë²• ì„¤ì • ì €ì¥
        function saveNotificationSettings() {
            const selectedMethod = document.querySelector('input[name="notificationMethod"]:checked')?.value;
            
            if (selectedMethod) {
                localStorage.setItem('notificationMethod', selectedMethod);
                
                const methodNames = {
                    'manual': 'ìˆ˜ë™ ë°œì†¡',
                    'email': 'ì´ë©”ì¼ ìë™ ë°œì†¡',
                    'sms': 'SMS ìë™ ë°œì†¡',
                    'kakao': 'ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡'
                };
                
                showNotification(`ì•Œë¦¼ ë°©ë²•ì´ "${methodNames[selectedMethod]}"ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                addRecentActivity(`ì•Œë¦¼ ë°©ë²• ë³€ê²½: ${methodNames[selectedMethod]}`, 'ë°©ê¸ˆ ì „');
                
                console.log('ì•Œë¦¼ ë°©ë²• ì„¤ì • ì €ì¥:', selectedMethod);
            }
            
            closeNotificationSettings();
        }

        // ì•Œë¦¼ ë°©ë²• ì„¤ì • ëª¨ë‹¬ ë‹«ê¸°
        function closeNotificationSettings() {
            const modal = document.getElementById('notification-settings-modal');
            if (modal) {
                modal.remove();
            }
        }

        // ì¼ê´„ ì•Œë¦¼ ë°œì†¡ ëª¨ë‹¬ í‘œì‹œ
        function showBulkNotificationModal(pendingApplicants, approvedApplicants) {
            // ìŠ¹ì¸ëœ ì§€ì›ì ì¤‘ ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ìë™ ìƒì„±
            const approvedWithoutCode = approvedApplicants.filter(a => !a.authCode || a.authCode === 'ì½”ë“œì—†ìŒ');
            if (approvedWithoutCode.length > 0) {
                console.log(`ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ìŠ¹ì¸ ì§€ì›ì ${approvedWithoutCode.length}ëª… ë°œê²¬, ìë™ ìƒì„± ì¤‘...`);
                approvedWithoutCode.forEach(applicant => {
                    applicant.authCode = generateUniqueAuthCode();
                    console.log(`${applicant.name}ë‹˜ì—ê²Œ ì¸ì¦ì½”ë“œ ìë™ ìƒì„±: ${applicant.authCode}`);
                });
                saveData(); // ì¦‰ì‹œ ì €ì¥
                showNotification(`${approvedWithoutCode.length}ëª…ì—ê²Œ ì¸ì¦ì½”ë“œë¥¼ ìë™ ìƒì„±í–ˆìŠµë‹ˆë‹¤.`, 'info');
            }
            
            const totalCount = pendingApplicants.length + approvedApplicants.length;
            
            let approvedSection = '';
            if (approvedApplicants.length > 0) {
                const approvedList = approvedApplicants.map(a => `
                    <div style="background: #f0fff4; padding: 12px; border-radius: 8px; margin: 8px 0; border-left: 4px solid #38a169;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong>${a.name}</strong> (${a.phone})
                                <br><small style="color: #718096;">${a.email}</small>
                                <div style="background: #e6fffa; padding: 8px; border-radius: 4px; margin-top: 8px; font-size: 0.85em; color: #2c7a7b;">
                                    ğŸ’¬ ë©”ì‹œì§€: "ì•ˆë…•í•˜ì„¸ìš” ëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤! ${a.name}ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©! ì¸ì¦ì½”ë“œ: ${a.authCode} ê³µì—°ì‹ ì²­ ì•ˆë‚´ [ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤!"
                                </div>
                            </div>
                            <div style="background: #38a169; color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.9em;">
                                <strong>${a.authCode}</strong>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                approvedSection = `
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #38a169; margin-bottom: 15px;">âœ… ìŠ¹ì¸ëœ ì§€ì›ì (${approvedApplicants.length}ëª…)</h4>
                        <div style="max-height: 200px; overflow-y: auto;">
                            ${approvedList}
                        </div>
                        <div style="background: #e6fffa; padding: 15px; border-radius: 8px; margin-top: 15px;">
                            <p style="margin: 0; color: #2c7a7b; font-size: 0.9em;">
                                ğŸ’¬ <strong>ìŠ¹ì¸ ë©”ì‹œì§€ í…œí”Œë¦¿ ì˜ˆì‹œ:</strong><br>
                                "ì•ˆë…•í•˜ì„¸ìš”<br>ëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤!<br>[ì´ë¦„]ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©!<br>ì¸ì¦ì½”ë“œ: [ì½”ë“œ]<br>ê³µì—°ì‹ ì²­ ì•ˆë‚´<br>[ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤!"
                            </p>
                        </div>
                    </div>
                `;
            }
            
            let pendingSection = '';
            if (pendingApplicants.length > 0) {
                const pendingList = pendingApplicants.map(a => `
                    <div style="background: #fffaf0; padding: 12px; border-radius: 8px; margin: 8px 0; border-left: 4px solid #ed8936;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong>${a.name}</strong> (${a.phone})
                                <br><small style="color: #718096;">${a.email}</small>
                            </div>
                            <div style="background: #ed8936; color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.9em;">
                                ì‹¬ì‚¬ì¤‘
                            </div>
                        </div>
                    </div>
                `).join('');
                
                pendingSection = `
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #ed8936; margin-bottom: 15px;">â³ ì‹¬ì‚¬ ëŒ€ê¸° ì¤‘ì¸ ì§€ì›ì (${pendingApplicants.length}ëª…)</h4>
                        <div style="max-height: 200px; overflow-y: auto;">
                            ${pendingList}
                        </div>
                        <div style="background: #fef5e7; padding: 15px; border-radius: 8px; margin-top: 15px;">
                            <p style="margin: 0; color: #c05621; font-size: 0.9em;">
                                ğŸ’¬ <strong>ëŒ€ê¸° ë©”ì‹œì§€ í…œí”Œë¦¿:</strong><br>
                                "[ëŒ€ì£¼ê°€ìš”] [ì´ë¦„]ë‹˜ ì§€ì›ì„œê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¬ì‚¬ ê²°ê³¼ëŠ” ê°œë³„ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!"
                            </p>
                        </div>
                    </div>
                `;
            }
            
            const modalContent = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 700px; margin: 20px; max-height: 80vh; overflow-y: auto;">
                    <h3 style="color: #4a5568; margin-bottom: 20px;">ğŸ“§ ì¼ê´„ ê²°ê³¼ ì•Œë¦¼ ë°œì†¡</h3>
                    
                    <div style="background: #f7fafc; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <p style="margin: 0; color: #4a5568;">
                            ì´ <strong>${totalCount}ëª…</strong>ì˜ ì§€ì›ìì—ê²Œ ê²°ê³¼ ì•Œë¦¼ì„ ë°œì†¡í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    
                    ${approvedSection}
                    ${pendingSection}
                    
                    <div style="background: #e6fffa; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: #2c7a7b; margin-bottom: 10px;">ğŸ“± ë°œì†¡ ë°©ë²•</h4>
                        <p style="margin: 0; color: #2c7a7b; font-size: 0.9em;">
                            í˜„ì¬ ì„¤ì •: <strong>${getNotificationMethodName()}</strong><br>
                            ê° ì§€ì›ìì˜ ì—°ë½ì²˜ì™€ ë©”ì‹œì§€ë¥¼ ë³µì‚¬í•˜ì—¬ ê°œë³„ ë°œì†¡í•˜ê±°ë‚˜, 
                            ìë™ ë°œì†¡ì´ ì„¤ì •ëœ ê²½ìš° ì¼ê´„ ì²˜ë¦¬ë©ë‹ˆë‹¤.
                        </p>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 25px;">
                        <button onclick="copyAllApprovedMessages()" style="flex: 1; padding: 12px; background: #38a169; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸ“‹ ìŠ¹ì¸ ë©”ì‹œì§€ ëª¨ë‘ ë³µì‚¬
                        </button>
                        <button onclick="copyAllPendingMessages()" style="flex: 1; padding: 12px; background: #ed8936; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸ“‹ ëŒ€ê¸° ë©”ì‹œì§€ ëª¨ë‘ ë³µì‚¬
                        </button>
                        <button onclick="processBulkNotifications()" style="flex: 1; padding: 12px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸš€ ì¼ê´„ ë°œì†¡ ì²˜ë¦¬
                        </button>
                        <button onclick="closeBulkNotificationModal()" style="flex: 1; padding: 12px; background: #a0aec0; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            `;
            
            const modalBg = document.createElement('div');
            modalBg.id = 'bulk-notification-modal';
            modalBg.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;
                z-index: 1000; overflow-y: auto; padding: 20px;
            `;
            modalBg.innerHTML = modalContent;
            
            document.body.appendChild(modalBg);
            
            // ì „ì—­ ë³€ìˆ˜ì— ë°ì´í„° ì €ì¥ (ë³µì‚¬ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©)
            window.currentPendingApplicants = pendingApplicants;
            window.currentApprovedApplicants = approvedApplicants;
        }

        // ì•Œë¦¼ ë°©ë²• ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
        function getNotificationMethodName() {
            const method = getNotificationMethod();
            const methodNames = {
                'manual': 'ìˆ˜ë™ ë°œì†¡',
                'email': 'ì´ë©”ì¼ ìë™ ë°œì†¡',
                'sms': 'SMS ìë™ ë°œì†¡',
                'kakao': 'ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡'
            };
            return methodNames[method] || 'ìˆ˜ë™ ë°œì†¡';
        }

        // ìŠ¹ì¸ ë©”ì‹œì§€ ëª¨ë‘ ë³µì‚¬
        function copyAllApprovedMessages() {
            // ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ë¨¼ì € ìƒì„±
            if (window.currentApprovedApplicants) {
                window.currentApprovedApplicants.forEach(applicant => {
                    if (!applicant.authCode || applicant.authCode === 'ì½”ë“œì—†ìŒ') {
                        applicant.authCode = generateUniqueAuthCode();
                        console.log(`${applicant.name}ë‹˜ì—ê²Œ ì¸ì¦ì½”ë“œ ìƒì„±: ${applicant.authCode}`);
                        
                        // ì›ë³¸ ë°ì´í„°ë„ ì—…ë°ì´íŠ¸
                        const originalApplicant = applicantsData.find(a => a.id === applicant.id);
                        if (originalApplicant) {
                            originalApplicant.authCode = applicant.authCode;
                        }
                    }
                });
                saveData(); // ë³€ê²½ì‚¬í•­ ì €ì¥
            }
            
            const messages = window.currentApprovedApplicants?.map(a => 
                `ì•ˆë…•í•˜ì„¸ìš”
ëŒ€ì£¼ê°€ìš”ì…ë‹ˆë‹¤!
${a.name}ë‹˜ ì¶•í•˜í•©ë‹ˆë‹¤! ë³´ì»¬ ì§€ì› í•©ê²©!
ì¸ì¦ì½”ë“œ: ${a.authCode}
ê³µì—°ì‹ ì²­ ì•ˆë‚´
[ì›¹ì‚¬ì´íŠ¸ì£¼ì†Œ]ë¥¼ ì ‘ì† í›„ ê³µì—°ì‹ ì²­ê°€ëŠ¥í•©ë‹ˆë‹¤! (${a.phone})`
            ).join('\n\n') || '';
            
            if (messages) {
                copyToClipboard(messages);
                showNotification(`${window.currentApprovedApplicants.length}ëª…ì˜ ìŠ¹ì¸ ë©”ì‹œì§€ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤!`, 'success');
            } else {
                showNotification('ë³µì‚¬í•  ìŠ¹ì¸ ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤.', 'warning');
            }
        }

        // ëŒ€ê¸° ë©”ì‹œì§€ ëª¨ë‘ ë³µì‚¬
        function copyAllPendingMessages() {
            const messages = window.currentPendingApplicants?.map(a => 
                `[ëŒ€ì£¼ê°€ìš”] ${a.name}ë‹˜ ì§€ì›ì„œê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¬ì‚¬ ê²°ê³¼ëŠ” ê°œë³„ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤! (${a.phone})`
            ).join('\n\n') || '';
            
            if (messages) {
                copyToClipboard(messages);
                showNotification(`${window.currentPendingApplicants.length}ëª…ì˜ ëŒ€ê¸° ë©”ì‹œì§€ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤!`, 'success');
            } else {
                showNotification('ë³µì‚¬í•  ëŒ€ê¸° ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤.', 'warning');
            }
        }

        // ì¼ê´„ ì•Œë¦¼ ì²˜ë¦¬
        function processBulkNotifications() {
            const method = getNotificationMethod();
            const totalCount = (window.currentPendingApplicants?.length || 0) + (window.currentApprovedApplicants?.length || 0);
            
            if (method === 'manual') {
                showNotification('ìˆ˜ë™ ë°œì†¡ ëª¨ë“œì…ë‹ˆë‹¤. ë©”ì‹œì§€ë¥¼ ë³µì‚¬í•˜ì—¬ ê°œë³„ ë°œì†¡í•´ì£¼ì„¸ìš”.', 'warning');
                return;
            }
            
            // ìë™ ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜
            let processedCount = 0;
            
            // ìŠ¹ì¸ëœ ì§€ì›ìë“¤ì—ê²Œ ë°œì†¡
            window.currentApprovedApplicants?.forEach(applicant => {
                setTimeout(() => {
                    sendApprovalNotification(applicant, applicant.authCode || generateUniqueAuthCode());
                    processedCount++;
                }, processedCount * 500); // 0.5ì´ˆ ê°„ê²©ìœ¼ë¡œ ë°œì†¡
            });
            
            // ëŒ€ê¸° ì¤‘ì¸ ì§€ì›ìë“¤ì—ê²Œ ì ‘ìˆ˜ í™•ì¸ ë°œì†¡
            window.currentPendingApplicants?.forEach(applicant => {
                setTimeout(() => {
                    sendPendingNotification(applicant);
                    processedCount++;
                }, processedCount * 500); // 0.5ì´ˆ ê°„ê²©ìœ¼ë¡œ ë°œì†¡
            });
            
            closeBulkNotificationModal();
            showNotification(`${totalCount}ëª…ì—ê²Œ ì¼ê´„ ì•Œë¦¼ ë°œì†¡ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.`, 'success');
            addRecentActivity(`ì¼ê´„ ì•Œë¦¼ ë°œì†¡ (${totalCount}ëª…)`, 'ë°©ê¸ˆ ì „');
        }

        // ëŒ€ê¸° ì§€ì›ì ì•Œë¦¼ ë°œì†¡
        function sendPendingNotification(applicant) {
            const message = `[ëŒ€ì£¼ê°€ìš”] ${applicant.name}ë‹˜ ì§€ì›ì„œê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¬ì‚¬ ê²°ê³¼ëŠ” ê°œë³„ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!`;
            
            // ì‹¤ì œ ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜
            console.log('ëŒ€ê¸° ì•Œë¦¼ ë°œì†¡:', applicant.name, message);
            addRecentActivity(`ğŸ“± ${applicant.name}ë‹˜ê»˜ ì ‘ìˆ˜ í™•ì¸ ë°œì†¡`, 'ë°©ê¸ˆ ì „');
        }

        // ì¼ê´„ ì•Œë¦¼ ëª¨ë‹¬ ë‹«ê¸°
        function closeBulkNotificationModal() {
            const modal = document.getElementById('bulk-notification-modal');
            if (modal) {
                modal.remove();
            }
            // ì „ì—­ ë³€ìˆ˜ ì •ë¦¬
            window.currentPendingApplicants = null;
            window.currentApprovedApplicants = null;
        }

        // ì§€ì›ì ëª©ë¡ ë¡œë“œ
        function loadApplicants() {
            console.log('ì§€ì›ì ëª©ë¡ ë¡œë“œ ì‹œì‘:', applicantsData.length, 'ëª…');
            
            // ìŠ¹ì¸ëœ ì§€ì›ì ì¤‘ ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ìë™ ìƒì„±
            let needUpdate = false;
            applicantsData.forEach(applicant => {
                if (applicant.status === 'approved' && (!applicant.authCode || applicant.authCode === 'ì½”ë“œì—†ìŒ')) {
                    applicant.authCode = generateUniqueAuthCode();
                    console.log(`${applicant.name}ë‹˜ì—ê²Œ ì¸ì¦ì½”ë“œ ìë™ ìƒì„±: ${applicant.authCode}`);
                    needUpdate = true;
                }
            });
            
            if (needUpdate) {
                saveData();
                console.log('ì¸ì¦ì½”ë“œ ì—†ëŠ” ìŠ¹ì¸ ì§€ì›ìë“¤ì—ê²Œ ì½”ë“œ ìë™ ìƒì„± ì™„ë£Œ');
            }
            
            const applicantList = document.getElementById('applicant-list');
            const emptyState = document.getElementById('empty-state');
            
            if (applicantsData.length === 0) {
                emptyState.style.display = 'block';
                console.log('ì§€ì›ì ì—†ìŒ - ë¹ˆ ìƒíƒœ í‘œì‹œ');
                return;
            }
            
            emptyState.style.display = 'none';
            
            applicantList.innerHTML = '';
            let displayedCount = 0;
            applicantsData.forEach(applicant => {
                if (applicant.status !== 'rejected') {
                    const applicantElement = createApplicantElement(applicant);
                    applicantList.appendChild(applicantElement);
                    displayedCount++;
                    console.log('ì§€ì›ì í‘œì‹œ:', applicant.name, 'ìƒíƒœ:', applicant.status);
                }
            });
            
            console.log('ì§€ì›ì ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', displayedCount, 'ëª… í‘œì‹œ');
        }

        // ì§€ì›ì ìš”ì†Œ ìƒì„±
        function createApplicantElement(applicant) {
            const div = document.createElement('div');
            div.className = 'applicant-item';
            div.setAttribute('data-id', applicant.id);
            div.setAttribute('data-status', applicant.status);
            
            const statusClass = applicant.status === 'approved' ? 'status-approved' : 'status-pending';
            const statusText = applicant.status === 'approved' ? 'ìŠ¹ì¸ ì™„ë£Œ' : 'ì‹¬ì‚¬ ëŒ€ê¸°';
            
            div.innerHTML = `
                <div class="applicant-info">
                    <h3><span class="applicant-name" onclick="showApplicationDetails(${applicant.id})">${applicant.name}</span> (${applicant.age}ì„¸)</h3>
                    <p>${applicant.genre} | ${applicant.song}</p>
                    <p style="font-size: 0.8em; color: #a0aec0;">ì§€ì›ì¼: ${applicant.date}</p>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span class="status-badge ${statusClass}">${statusText}</span>
                    ${applicant.status === 'pending' ? `
                        <div class="action-buttons">
                            <button class="btn btn-approve" onclick="approveApplicant(${applicant.id})">ìŠ¹ì¸</button>
                            <button class="btn btn-reject" onclick="rejectApplicant(${applicant.id})">ê±°ì ˆ</button>
                        </div>
                    ` : ''}
                </div>
            `;
            
            return div;
        }

        // ê´€ë¦¬ì ì ‘ê·¼ ê¶Œí•œ í™•ì¸
        function checkAdminAccess() {
            const isLoggedIn = localStorage.getItem('adminLoggedIn') === 'true';
            const loginTime = localStorage.getItem('adminLoginTime');
            const currentTime = new Date().getTime();
            
            // ë¡œê·¸ì¸ ìœ íš¨ì‹œê°„ (24ì‹œê°„)
            const validTime = 24 * 60 * 60 * 1000;
            
            if (!isLoggedIn || !loginTime || (currentTime - parseInt(loginTime)) >= validTime) {
                // ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì„¸ì…˜ ë§Œë£Œ
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                window.location.href = 'index.html';
                return;
            }
            
            // ë¡œê·¸ì¸ ìƒíƒœ í‘œì‹œ
            updateLoginStatus();
        }

        // ë¡œê·¸ì¸ ìƒíƒœ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateLoginStatus() {
            const navMenu = document.querySelector('.nav-menu');
            
            // ê¸°ì¡´ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì´ ìˆëŠ”ì§€ í™•ì¸
            const existingLogoutBtn = document.querySelector('.nav-menu .logout-item');
            
            if (navMenu && !existingLogoutBtn) {
                // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì¶”ê°€ (í•œ ë²ˆë§Œ)
                const logoutItem = document.createElement('li');
                logoutItem.className = 'nav-item logout-item'; // í´ë˜ìŠ¤ ì¶”ê°€ë¡œ ì‹ë³„
                logoutItem.innerHTML = '<a href="javascript:void(0)" class="nav-link" onclick="adminLogout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</a>';
                navMenu.appendChild(logoutItem);
            }
        }

        // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
        function adminLogout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminLoginTime');
                alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
                window.location.href = 'index.html';
            }
        }

        // ì§€ì›ì ìŠ¹ì¸
        function approveApplicant(id) {
            console.log('ìŠ¹ì¸ ìš”ì²­:', id);
            const applicant = applicantsData.find(a => a.id === id);
            
            if (applicant && applicant.status !== 'approved') {
                console.log('ìŠ¹ì¸ ì²˜ë¦¬ ì‹œì‘:', applicant.name);
                
                // ì¦‰ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™” (ì¤‘ë³µ í´ë¦­ ë°©ì§€)
                const approveBtn = document.querySelector(`button[onclick="approveApplicant(${id})"]`);
                const rejectBtn = document.querySelector(`button[onclick="rejectApplicant(${id})"]`);
                
                if (approveBtn) {
                    approveBtn.disabled = true;
                    approveBtn.textContent = 'ìŠ¹ì¸ ì¤‘...';
                    approveBtn.style.opacity = '0.6';
                }
                if (rejectBtn) {
                    rejectBtn.disabled = true;
                    rejectBtn.style.opacity = '0.6';
                }
                
                // ì¸ì¦ì½”ë“œ ìƒì„±
                const authCode = generateUniqueAuthCode();
                
                // ë°ì´í„° ì—…ë°ì´íŠ¸
                applicant.status = 'approved';
                applicant.approvedDate = new Date().toLocaleDateString('ko-KR');
                applicant.authCode = authCode; // ì¸ì¦ì½”ë“œ ì €ì¥
                
                // ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸ (ì „ì²´ ì¬ë¡œë“œ ì—†ì´)
                setTimeout(() => {
                    updateApplicantElementRealtime(id, 'approved');
                }, 100); // ì•½ê°„ì˜ ì§€ì—°ìœ¼ë¡œ ë” ìì—°ìŠ¤ëŸ½ê²Œ
                
                // ë°ì´í„° ì €ì¥
                saveData();
                
                // í†µê³„ë§Œ ì—…ë°ì´íŠ¸ (ëª©ë¡ ì¬ë¡œë“œ ì—†ì´)
                updateCounts();
                
                // ì¸ì¦ì½”ë“œ ë°œì†¡ (ì„ íƒëœ ë°©ë²•ì— ë”°ë¼)
                sendApprovalNotification(applicant, authCode);
                
                // í™œë™ ë¡œê·¸ ë° ì•Œë¦¼
                addRecentActivity(`${applicant.name}ë‹˜ ìŠ¹ì¸ ì™„ë£Œ (ì½”ë“œ: ${authCode})`, 'ë°©ê¸ˆ ì „');
                showNotification(`${applicant.name}ë‹˜ì„ ìŠ¹ì¸í•˜ê³  ì¸ì¦ì½”ë“œë¥¼ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.`, 'success');
                
                console.log('ìŠ¹ì¸ ì™„ë£Œ - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:', applicant.name, 'ì¸ì¦ì½”ë“œ:', authCode);
            } else {
                console.log('ìŠ¹ì¸ ë¶ˆê°€:', applicant ? 'ì´ë¯¸ ìŠ¹ì¸ë¨' : 'ì§€ì›ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                if (applicant && applicant.status === 'approved') {
                    showNotification('ì´ë¯¸ ìŠ¹ì¸ëœ ì§€ì›ìì…ë‹ˆë‹¤.', 'warning');
                }
            }
        }

        // ì§€ì›ì ê±°ì ˆ
        function rejectApplicant(id) {
            console.log('ê±°ì ˆ ìš”ì²­:', id);
            const applicant = applicantsData.find(a => a.id === id);
            
            if (applicant && applicant.status !== 'rejected') {
                if (confirm(`${applicant.name}ë‹˜ì„ ê±°ì ˆí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    console.log('ê±°ì ˆ ì²˜ë¦¬ ì‹œì‘:', applicant.name);
                    
                    // ì¦‰ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™” (ì¤‘ë³µ í´ë¦­ ë°©ì§€)
                    const approveBtn = document.querySelector(`button[onclick="approveApplicant(${id})"]`);
                    const rejectBtn = document.querySelector(`button[onclick="rejectApplicant(${id})"]`);
                    
                    if (approveBtn) {
                        approveBtn.disabled = true;
                        approveBtn.style.opacity = '0.6';
                    }
                    if (rejectBtn) {
                        rejectBtn.disabled = true;
                        rejectBtn.textContent = 'ê±°ì ˆ ì¤‘...';
                        rejectBtn.style.opacity = '0.6';
                    }
                    
                    // ë°ì´í„° ì—…ë°ì´íŠ¸
                    applicant.status = 'rejected';
                    applicant.rejectedDate = new Date().toLocaleDateString('ko-KR');
                    
                    // ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸ (ìš”ì†Œ ì œê±°)
                    setTimeout(() => {
                        removeApplicantElementRealtime(id);
                    }, 100);
                    
                    // ë°ì´í„° ì €ì¥
                    saveData();
                    
                    // í†µê³„ë§Œ ì—…ë°ì´íŠ¸
                    updateCounts();
                    
                    // í™œë™ ë¡œê·¸ ë° ì•Œë¦¼
                    addRecentActivity(`${applicant.name}ë‹˜ ê±°ì ˆ ì²˜ë¦¬`, 'ë°©ê¸ˆ ì „');
                    showNotification('ì§€ì›ìë¥¼ ê±°ì ˆí–ˆìŠµë‹ˆë‹¤.', 'warning');
                    
                    console.log('ê±°ì ˆ ì™„ë£Œ - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:', applicant.name);
                } else {
                    console.log('ê±°ì ˆ ì·¨ì†Œë¨');
                }
            } else {
                console.log('ê±°ì ˆ ë¶ˆê°€:', applicant ? 'ì´ë¯¸ ê±°ì ˆë¨' : 'ì§€ì›ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                if (applicant && applicant.status === 'rejected') {
                    showNotification('ì´ë¯¸ ê±°ì ˆëœ ì§€ì›ìì…ë‹ˆë‹¤.', 'warning');
                }
            }
        }

        // ë°ì´í„° ì €ì¥
        function saveData() {
            localStorage.setItem('applicantsData', JSON.stringify(applicantsData));
            // rejectedCountëŠ” ì‹¤ì œ ë°ì´í„°ì—ì„œ ê³„ì‚°í•˜ì—¬ ì €ì¥
            const actualRejectedCount = applicantsData.filter(a => a.status === 'rejected').length;
            localStorage.setItem('rejectedCount', actualRejectedCount.toString());
            console.log('ë°ì´í„° ì €ì¥ ì™„ë£Œ, rejectedCount:', actualRejectedCount);
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateCounts() {
            const total = applicantsData.filter(a => a.status !== 'rejected').length;
            const approved = applicantsData.filter(a => a.status === 'approved').length;
            const pending = applicantsData.filter(a => a.status === 'pending').length;
            const rejected = applicantsData.filter(a => a.status === 'rejected').length;
            
            document.getElementById('total-count').textContent = total;
            document.getElementById('approved-count').textContent = approved;
            document.getElementById('pending-count').textContent = pending;
            document.getElementById('rejected-count').textContent = rejected;
            
            // rejectedCount ì „ì—­ ë³€ìˆ˜ë„ ì—…ë°ì´íŠ¸
            rejectedCount = rejected;
            
            console.log('í†µê³„ ì—…ë°ì´íŠ¸:', { total, approved, pending, rejected });
        }

        // ìµœê·¼ í™œë™ ì¶”ê°€
        function addRecentActivity(activity, time) {
            try {
                console.log('addRecentActivity í˜¸ì¶œ:', activity, time);
                const recentActivity = document.getElementById('recent-activity');
                
                if (!recentActivity) {
                    console.error('recent-activity ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }
                
                const activities = recentActivity.children;
                
                // ìƒˆ í™œë™ ì¶”ê°€
                const newActivity = document.createElement('p');
                newActivity.innerHTML = `<strong>${activity}</strong> <span style="color: #718096;">(${time})</span>`;
                newActivity.style.marginBottom = '8px';
                
                // ë§¨ ìœ„ì— ì¶”ê°€
                if (activities.length > 0 && activities[0].style.color !== '#718096') {
                    recentActivity.insertBefore(newActivity, recentActivity.firstChild);
                } else {
                    recentActivity.innerHTML = '';
                    recentActivity.appendChild(newActivity);
                }
                
                // ìµœëŒ€ 5ê°œê¹Œì§€ë§Œ í‘œì‹œ
                while (recentActivity.children.length > 5) {
                    recentActivity.removeChild(recentActivity.lastChild);
                }
                
                console.log('ìµœê·¼ í™œë™ ì¶”ê°€ ì™„ë£Œ');
            } catch (error) {
                console.error('ìµœê·¼ í™œë™ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:', error);
            }
        }

        // ì•Œë¦¼ í‘œì‹œ
        function showNotification(message, type = 'success') {
            try {
                console.log('showNotification í˜¸ì¶œ:', message, type);
                const notification = document.getElementById('notification');
                
                if (!notification) {
                    console.error('notification ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    // ëŒ€ì²´ ì•Œë¦¼ ë°©ë²•
                    alert(message);
                    return;
                }
                
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.style.display = 'block';
                
                console.log('ì•Œë¦¼ í‘œì‹œ ì™„ë£Œ');
                
                setTimeout(() => {
                    notification.style.display = 'none';
                    console.log('ì•Œë¦¼ ìë™ ìˆ¨ê¹€ ì™„ë£Œ');
                }, 3000);
            } catch (error) {
                console.error('ì•Œë¦¼ í‘œì‹œ ì¤‘ ì˜¤ë¥˜:', error);
                // ëŒ€ì²´ ì•Œë¦¼ ë°©ë²•
                alert(message);
            }
        }

        // ë¹ ë¥¸ ì‘ì—… í•¨ìˆ˜ë“¤
        function generateAuthCode() {
            console.log('ì¸ì¦ì½”ë“œ ìƒì„± ì‹œì‘');
            
            // ìŠ¹ì¸ëœ ì§€ì›ì ì¤‘ ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ì°¾ê¸°
            const approvedWithoutCode = applicantsData.filter(a => 
                a.status === 'approved' && (!a.authCode || a.authCode === 'ì½”ë“œì—†ìŒ')
            );
            
            if (approvedWithoutCode.length === 0) {
                showNotification('ëª¨ë“  ìŠ¹ì¸ëœ ì§€ì›ìì—ê²Œ ì´ë¯¸ ì¸ì¦ì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤.', 'info');
                return;
            }
            
            // ì¸ì¦ì½”ë“œê°€ ì—†ëŠ” ìŠ¹ì¸ëœ ì§€ì›ìë“¤ì—ê²Œ ì½”ë“œ ìƒì„±
            let generatedCount = 0;
            approvedWithoutCode.forEach(applicant => {
                const authCode = generateUniqueAuthCode();
                applicant.authCode = authCode;
                console.log(`${applicant.name}ë‹˜ì—ê²Œ ì¸ì¦ì½”ë“œ ìƒì„±: ${authCode}`);
                generatedCount++;
            });
            
            // ë°ì´í„° ì €ì¥
            saveData();
            
            // UI ì—…ë°ì´íŠ¸
            loadApplicants();
            
            showNotification(`${generatedCount}ëª…ì˜ ìŠ¹ì¸ëœ ì§€ì›ìì—ê²Œ ì¸ì¦ì½”ë“œë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.`, 'success');
            addRecentActivity(`ì¸ì¦ì½”ë“œ ${generatedCount}ê°œ ìƒì„±`, 'ë°©ê¸ˆ ì „');
            
            console.log('ì¸ì¦ì½”ë“œ ìƒì„± ì™„ë£Œ:', generatedCount, 'ê°œ');
        }

        function sendNotifications() {
            const pendingApplicants = applicantsData.filter(a => a.status === 'pending');
            const approvedApplicants = applicantsData.filter(a => a.status === 'approved');
            
            if (pendingApplicants.length === 0 && approvedApplicants.length === 0) {
                showNotification('ë°œì†¡í•  ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }
            
            // ì¼ê´„ ì•Œë¦¼ ë°œì†¡ ëª¨ë‹¬ í‘œì‹œ
            showBulkNotificationModal(pendingApplicants, approvedApplicants);
        }

        function exportData() {
            if (applicantsData.length === 0) {
                showNotification('ë‚´ë³´ë‚¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }
            
            try {
                // ì—‘ì…€ íŒŒì¼ìš© ë°ì´í„° ì¤€ë¹„
                const excelData = [];
                
                // í—¤ë” í–‰
                excelData.push([
                    'ID', 'ì´ë¦„', 'ë‚˜ì´', 'ì¥ë¥´', 'ê³¡ëª…', 'ìƒíƒœ', 'ì§€ì›ì¼', 
                    'ì—°ë½ì²˜', 'ì´ë©”ì¼', 'ê²½í—˜ì‚¬í•­', 'ì§€ì›ë™ê¸°', 'ë³´ìœ ê¸°ìˆ ', 
                    'ê°€ëŠ¥ì‹œê°„', 'ì œì¶œì‹œê°„', 'ì¸ì¦ì½”ë“œ'
                ]);
                
                // ë°ì´í„° í–‰ë“¤
                applicantsData.forEach(applicant => {
                    const statusText = applicant.status === 'approved' ? 'ìŠ¹ì¸' : 
                                     applicant.status === 'pending' ? 'ì‹¬ì‚¬ëŒ€ê¸°' : 'ê±°ì ˆ';
                    
                    const skills = Array.isArray(applicant.skills) ? applicant.skills.join(', ') : (applicant.skills || '');
                    
                    excelData.push([
                        applicant.id || '',
                        applicant.name || '',
                        applicant.age || '',
                        applicant.genre || '',
                        applicant.song || '',
                        statusText,
                        applicant.date || '',
                        applicant.phone || '',
                        applicant.email || '',
                        applicant.experience || '',
                        applicant.motivation || '',
                        skills,
                        applicant.availableTime || '',
                        applicant.submitTime || '',
                        applicant.authCode || ''
                    ]);
                });
                
                // ì›Œí¬ë¶ ìƒì„±
                const workbook = XLSX.utils.book_new();
                const worksheet = XLSX.utils.aoa_to_sheet(excelData);
                
                // ì»¬ëŸ¼ ë„ˆë¹„ ì„¤ì •
                const columnWidths = [
                    { wch: 10 }, // ID
                    { wch: 15 }, // ì´ë¦„
                    { wch: 8 },  // ë‚˜ì´
                    { wch: 12 }, // ì¥ë¥´
                    { wch: 20 }, // ê³¡ëª…
                    { wch: 10 }, // ìƒíƒœ
                    { wch: 12 }, // ì§€ì›ì¼
                    { wch: 15 }, // ì—°ë½ì²˜
                    { wch: 25 }, // ì´ë©”ì¼
                    { wch: 30 }, // ê²½í—˜ì‚¬í•­
                    { wch: 30 }, // ì§€ì›ë™ê¸°
                    { wch: 20 }, // ë³´ìœ ê¸°ìˆ 
                    { wch: 15 }, // ê°€ëŠ¥ì‹œê°„
                    { wch: 20 }, // ì œì¶œì‹œê°„
                    { wch: 15 }  // ì¸ì¦ì½”ë“œ
                ];
                worksheet['!cols'] = columnWidths;
                
                // í—¤ë” ìŠ¤íƒ€ì¼ ì„¤ì •
                const headerStyle = {
                    font: { bold: true, color: { rgb: 'FFFFFF' } },
                    fill: { fgColor: { rgb: '667eea' } },
                    alignment: { horizontal: 'center', vertical: 'center' }
                };
                
                // í—¤ë”ì— ìŠ¤íƒ€ì¼ ì ìš©
                const headerRange = XLSX.utils.decode_range('A1:O1');
                for (let col = headerRange.s.c; col <= headerRange.e.c; col++) {
                    const cellAddress = XLSX.utils.encode_cell({ r: 0, c: col });
                    if (!worksheet[cellAddress]) continue;
                    worksheet[cellAddress].s = headerStyle;
                }
                
                // ì›Œí¬ì‹œíŠ¸ë¥¼ ì›Œí¬ë¶ì— ì¶”ê°€
                XLSX.utils.book_append_sheet(workbook, worksheet, 'ì§€ì›ì ëª©ë¡');
                
                // í†µê³„ ì‹œíŠ¸ ì¶”ê°€
                const statsData = [
                    ['ëŒ€ì£¼ê°€ìš” ì§€ì›ì í†µê³„'],
                    [''],
                    ['êµ¬ë¶„', 'ì¸ì›ìˆ˜'],
                    ['ì´ ì§€ì›ì', applicantsData.length],
                    ['ìŠ¹ì¸ ì™„ë£Œ', applicantsData.filter(a => a.status === 'approved').length],
                    ['ì‹¬ì‚¬ ëŒ€ê¸°', applicantsData.filter(a => a.status === 'pending').length],
                    ['ê±°ì ˆ', applicantsData.filter(a => a.status === 'rejected').length],
                    [''],
                    ['ìƒì„±ì¼ì‹œ', new Date().toLocaleString('ko-KR')],
                    ['ê´€ë¦¬ì', 'PLAYLOG SOUNDLAB']
                ];
                
                const statsWorksheet = XLSX.utils.aoa_to_sheet(statsData);
                statsWorksheet['!cols'] = [{ wch: 20 }, { wch: 15 }];
                
                // í†µê³„ ì‹œíŠ¸ ìŠ¤íƒ€ì¼
                const titleStyle = {
                    font: { bold: true, size: 16 },
                    alignment: { horizontal: 'center' }
                };
                
                if (statsWorksheet['A1']) {
                    statsWorksheet['A1'].s = titleStyle;
                }
                
                XLSX.utils.book_append_sheet(workbook, statsWorksheet, 'í†µê³„');
                
                // íŒŒì¼ëª… ìƒì„±
                const now = new Date();
                const fileName = `ëŒ€ì£¼ê°€ìš”_ì§€ì›ìëª©ë¡_${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}_${String(now.getHours()).padStart(2, '0')}${String(now.getMinutes()).padStart(2, '0')}.xlsx`;
                
                // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                XLSX.writeFile(workbook, fileName);
                
                showNotification(`ì§€ì›ì ë°ì´í„°ë¥¼ Excel íŒŒì¼ë¡œ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤. (${applicantsData.length}ëª…)`, 'success');
                addRecentActivity(`Excel ë°ì´í„° ë‚´ë³´ë‚´ê¸° (${applicantsData.length}ëª…)`, 'ë°©ê¸ˆ ì „');
                
                console.log('Excel íŒŒì¼ ìƒì„± ì™„ë£Œ:', fileName);
                
            } catch (error) {
                console.error('Excel íŒŒì¼ ìƒì„± ì˜¤ë¥˜:', error);
                showNotification('Excel íŒŒì¼ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                
                // ì˜¤ë¥˜ ë°œìƒì‹œ ê¸°ì¡´ CSV ë°©ì‹ìœ¼ë¡œ ëŒ€ì²´
                exportDataAsCSV();
            }
        }
        
        // CSV ë°±ì—… ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜
        function exportDataAsCSV() {
            const csvContent = [
                ['ì´ë¦„', 'ë‚˜ì´', 'ì¥ë¥´', 'ê³¡ëª…', 'ìƒíƒœ', 'ì§€ì›ì¼', 'ì—°ë½ì²˜', 'ì´ë©”ì¼'].join(','),
                ...applicantsData.map(a => [
                    a.name, a.age, a.genre, a.song, 
                    a.status === 'approved' ? 'ìŠ¹ì¸' : a.status === 'pending' ? 'ëŒ€ê¸°' : 'ê±°ì ˆ',
                    a.date, a.phone || '', a.email || ''
                ].join(','))
            ].join('\n');
            
            // UTF-8 BOM ì¶”ê°€ (í•œê¸€ ê¹¨ì§ ë°©ì§€)
            const BOM = '\uFEFF';
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `ì§€ì›ì_ëª©ë¡_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            showNotification('ì§€ì›ì ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤.', 'success');
        }

        function refreshData() {
            loadApplicants();
            updateCounts();
            showNotification('ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹¨í–ˆìŠµë‹ˆë‹¤.', 'success');
        }

        // í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€
        function addTestApplicants() {
            console.log('addTestApplicants í•¨ìˆ˜ ì‹œì‘');
            
            try {
                if (confirm('í…ŒìŠ¤íŠ¸ ì§€ì›ì ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    console.log('ì‚¬ìš©ìê°€ í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤');
                    
                    const currentTime = new Date();
                    const testApplicants = [
                        {
                            id: Date.now() + Math.random() * 1000,
                            name: 'ê¹€ì§€ìˆ˜',
                            age: 25,
                            genre: 'íŒ',
                            song: 'ì•„ì´ìœ  - ì¢‹ì€ ë‚ ',
                            status: 'pending',
                            date: currentTime.toLocaleDateString('ko-KR'),
                            phone: '010-1234-5678',
                            email: 'test1@example.com',
                            experience: 'ëŒ€í•™êµ ë™ì•„ë¦¬ í™œë™, ë²„ìŠ¤í‚¹ ê²½í—˜ 2ë…„',
                            motivation: 'ìŒì•…ì„ í†µí•´ ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.',
                            skills: ['ë°œì„±', 'ê°ì •í‘œí˜„'],
                            availableTime: 'ì£¼ë§',
                            submitTime: currentTime.toLocaleString('ko-KR')
                        },
                        {
                            id: Date.now() + Math.random() * 1000 + 1,
                            name: 'ë°•ë¯¼ìˆ˜',
                            age: 28,
                            genre: 'ë¡',
                            song: 'Queen - Bohemian Rhapsody',
                            status: 'pending',
                            date: currentTime.toLocaleDateString('ko-KR'),
                            phone: '010-2345-6789',
                            email: 'test2@example.com',
                            experience: 'ë°´ë“œ í™œë™ 5ë…„, í´ëŸ½ ê³µì—° ê²½í—˜',
                            motivation: 'ë¡ ìŒì•…ì˜ ë§¤ë ¥ì„ ë¬´ëŒ€ì—ì„œ ë³´ì—¬ì£¼ê³  ì‹¶ìŠµë‹ˆë‹¤.',
                            skills: ['ê³ ìŒ', 'íŒŒì›Œí’€í•œ ë³´ì»¬'],
                            availableTime: 'í‰ì¼ ì €ë…',
                            submitTime: currentTime.toLocaleString('ko-KR')
                        },
                        {
                            id: Date.now() + Math.random() * 1000 + 2,
                            name: 'ì´ì„œì—°',
                            age: 22,
                            genre: 'ì¬ì¦ˆ',
                            song: 'Ella Fitzgerald - Summertime',
                            status: 'approved',
                            date: currentTime.toLocaleDateString('ko-KR'),
                            phone: '010-3456-7890',
                            email: 'test3@example.com',
                            experience: 'ì¬ì¦ˆ ë³´ì»¬ ì „ê³µ, ì¹´í˜ ê³µì—° ë‹¤ìˆ˜',
                            motivation: 'ì¬ì¦ˆì˜ ê¹Šì´ë¥¼ ëŒ€ì¤‘ì—ê²Œ ì „ë‹¬í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.',
                            skills: ['ì¦‰í¥ì—°ì£¼', 'ìŠ¤ìº£ì°½ë²•'],
                            availableTime: 'ì£¼ë§',
                            submitTime: currentTime.toLocaleString('ko-KR'),
                            approvedDate: currentTime.toLocaleDateString('ko-KR')
                        }
                    ];

                    console.log('í…ŒìŠ¤íŠ¸ ì§€ì›ì ë°°ì—´ ìƒì„±:', testApplicants);

                    // ê¸°ì¡´ ë°ì´í„°ì— ì¶”ê°€
                    testApplicants.forEach((applicant, index) => {
                        applicantsData.push(applicant);
                        console.log(`ì§€ì›ì ${index + 1} ì¶”ê°€:`, applicant.name);
                    });

                    console.log('í˜„ì¬ ì´ ì§€ì›ì ìˆ˜:', applicantsData.length);

                    // ë°ì´í„° ì €ì¥
                    saveData();
                    console.log('ë°ì´í„° ì €ì¥ ì™„ë£Œ');

                    // UI ì—…ë°ì´íŠ¸
                    loadApplicants();
                    console.log('ì§€ì›ì ëª©ë¡ ë¡œë“œ ì™„ë£Œ');

                    updateCounts();
                    console.log('í†µê³„ ì—…ë°ì´íŠ¸ ì™„ë£Œ');

                    // í™œë™ ë¡œê·¸ ì¶”ê°€
                    addRecentActivity('í…ŒìŠ¤íŠ¸ ì§€ì›ì 3ëª… ì¶”ê°€', 'ë°©ê¸ˆ ì „');
                    console.log('ìµœê·¼ í™œë™ ì¶”ê°€ ì™„ë£Œ');

                    // ì•Œë¦¼ í‘œì‹œ
                    showNotification('í…ŒìŠ¤íŠ¸ ì§€ì›ì 3ëª…ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.', 'success');
                    console.log('ì•Œë¦¼ í‘œì‹œ ì™„ë£Œ');

                    console.log('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ëª¨ë“  ì‘ì—… ì™„ë£Œ');
                } else {
                    console.log('ì‚¬ìš©ìê°€ í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤');
                }
            } catch (error) {
                console.error('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                alert('í…ŒìŠ¤íŠ¸ ì§€ì›ì ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ëª¨ë“  ë°ì´í„° ì‚­ì œ
        function clearAllData() {
            console.log('clearAllData í•¨ìˆ˜ ì‹œì‘');
            
            try {
                if (confirm('ì •ë§ë¡œ ëª¨ë“  ì§€ì›ì ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!')) {
                    console.log('ì‚¬ìš©ìê°€ ì²« ë²ˆì§¸ í™•ì¸ì„ í–ˆìŠµë‹ˆë‹¤');
                    
                    if (confirm('ë§ˆì§€ë§‰ í™•ì¸: ëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        console.log('ì‚¬ìš©ìê°€ ìµœì¢… í™•ì¸ì„ í–ˆìŠµë‹ˆë‹¤');
                        console.log('ì‚­ì œ ì „ ì§€ì›ì ìˆ˜:', applicantsData.length);
                        
                        // ë°ì´í„° ì´ˆê¸°í™”
                        applicantsData = [];
                        rejectedCount = 0;
                        
                        console.log('ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„° ì‚­ì œ ì™„ë£Œ');
                        
                        // localStorageì—ì„œ ì‚­ì œ
                        localStorage.removeItem('applicantsData');
                        localStorage.removeItem('rejectedCount');
                        
                        console.log('localStorageì—ì„œ ë°ì´í„° ì‚­ì œ ì™„ë£Œ');
                        
                        // UI ì—…ë°ì´íŠ¸
                        loadApplicants();
                        console.log('ì§€ì›ì ëª©ë¡ ë¡œë“œ ì™„ë£Œ');
                        
                        updateCounts();
                        console.log('í†µê³„ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
                        
                        // í™œë™ ë¡œê·¸ ì¶”ê°€
                        addRecentActivity('ëª¨ë“  ë°ì´í„° ì‚­ì œ', 'ë°©ê¸ˆ ì „');
                        console.log('ìµœê·¼ í™œë™ ì¶”ê°€ ì™„ë£Œ');
                        
                        // ì•Œë¦¼ í‘œì‹œ
                        showNotification('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');
                        console.log('ì•Œë¦¼ í‘œì‹œ ì™„ë£Œ');
                        
                        console.log('ëª¨ë“  ë°ì´í„° ì‚­ì œ ì‘ì—… ì™„ë£Œ');
                    } else {
                        console.log('ì‚¬ìš©ìê°€ ìµœì¢… í™•ì¸ì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤');
                    }
                } else {
                    console.log('ì‚¬ìš©ìê°€ ì²« ë²ˆì§¸ í™•ì¸ì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤');
                }
            } catch (error) {
                console.error('ë°ì´í„° ì‚­ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                alert('ë°ì´í„° ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ì§€ì›ì„œ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ì—´ê¸°
        function showApplicationDetails(id) {
            const applicant = applicantsData.find(a => a.id === id);
            if (!applicant) return;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div class="application-section">
                    <div class="section-title">
                        ğŸ‘¤ ê¸°ë³¸ ì •ë³´
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">ì´ë¦„</div>
                            <div class="info-value">${applicant.name}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ë‚˜ì´</div>
                            <div class="info-value">${applicant.age}ì„¸</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ì—°ë½ì²˜</div>
                            <div class="info-value">${applicant.phone || 'ì •ë³´ ì—†ìŒ'}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ì´ë©”ì¼</div>
                            <div class="info-value">${applicant.email || 'ì •ë³´ ì—†ìŒ'}</div>
                        </div>
                    </div>
                </div>

                <div class="application-section">
                    <div class="section-title">
                        ğŸµ ìŒì•… ì •ë³´ ë° ì§€ì› ë‚´ìš©
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">ì„ í˜¸ ì¥ë¥´</div>
                            <div class="info-value">${applicant.genre}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ì˜¤ë””ì…˜ ê³¡</div>
                            <div class="info-value">${applicant.song}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ê²½ë ¥</div>
                            <div class="info-value">${applicant.experience || 'ì •ë³´ ì—†ìŒ'}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ê°€ëŠ¥í•œ ì‹œê°„</div>
                            <div class="info-value">${applicant.availableTime || 'ì •ë³´ ì—†ìŒ'}</div>
                        </div>
                    </div>
                    
                    ${applicant.skills ? `
                    <div style="margin-top: 20px;">
                        <div style="font-weight: bold; color: #4a5568; margin-bottom: 10px;">â­ ë³´ìœ  ìŠ¤í‚¬</div>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            ${applicant.skills.map(skill => `
                                <span style="background: #667eea; color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.9em;">
                                    ${skill}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}
                    
                    ${applicant.motivation ? `
                    <div style="margin-top: 20px;">
                        <div style="font-weight: bold; color: #4a5568; margin-bottom: 10px;">ğŸ’­ ì§€ì› ë™ê¸°</div>
                        <div style="background: #f7fafc; padding: 20px; border-radius: 10px; line-height: 1.6;">
                            ${applicant.motivation}
                        </div>
                    </div>
                    ` : ''}
                    
                    ${applicant.attachedFiles && applicant.attachedFiles.length > 0 ? `
                    <div style="margin-top: 20px;">
                        <div style="font-weight: bold; color: #4a5568; margin-bottom: 10px;">ğŸ“ ì²¨ë¶€ íŒŒì¼</div>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            ${applicant.attachedFiles.map(file => `
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 15px; background: #f7fafc; border-radius: 8px; border-left: 4px solid #667eea;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <span style="font-size: 16px;">${getFileIcon(file.type)}</span>
                                        <div>
                                            <div style="font-weight: 500; color: #4a5568;">${file.name}</div>
                                            <div style="font-size: 12px; color: #718096;">${formatFileSize(file.size)}</div>
                                        </div>
                                    </div>
                                    <button onclick="downloadFile('${file.name}', '${file.data}')" style="background: #667eea; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px;">ë‹¤ìš´ë¡œë“œ</button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}
                </div>

                <div class="application-section">
                    <div class="section-title">
                        ğŸ“… ì§€ì› ì •ë³´
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">ì§€ì›ì¼</div>
                            <div class="info-value">${applicant.date}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ì ‘ìˆ˜ ì‹œê°„</div>
                            <div class="info-value">${applicant.submitTime || 'ì •ë³´ ì—†ìŒ'}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">í˜„ì¬ ìƒíƒœ</div>
                            <div class="info-value">
                                <span class="status-badge ${applicant.status === 'approved' ? 'status-approved' : 'status-pending'}">
                                    ${applicant.status === 'approved' ? 'ìŠ¹ì¸ ì™„ë£Œ' : 'ì‹¬ì‚¬ ëŒ€ê¸°'}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                ${applicant.status === 'pending' ? `
                <div style="margin-top: 30px; text-align: center; padding-top: 20px; border-top: 1px solid #e2e8f0;">
                    <button class="btn btn-approve" onclick="approveApplicant(${applicant.id}); closeApplicationModal();" style="margin-right: 10px;">
                        âœ… ìŠ¹ì¸í•˜ê¸°
                    </button>
                    <button class="btn btn-reject" onclick="rejectApplicant(${applicant.id}); closeApplicationModal();">
                        âŒ ê±°ì ˆí•˜ê¸°
                    </button>
                </div>
                ` : ''}
            `;
            
            const modal = document.getElementById('applicationModal');
            modal.classList.add('show');
        }

        // ì§€ì›ì„œ ëª¨ë‹¬ ë‹«ê¸°
        function closeApplicationModal() {
            const modal = document.getElementById('applicationModal');
            modal.classList.remove('show');
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('applicationModal');
            if (event.target === modal) {
                closeApplicationModal();
            }
        }

        // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modal = document.getElementById('applicationModal');
                if (modal.classList.contains('show')) {
                    closeApplicationModal();
                }
            }
        });

        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            const navMenu = document.querySelector('.nav-menu');
            const navToggle = document.querySelector('.nav-toggle');
            
            navMenu.classList.toggle('active');
            navToggle.classList.toggle('active');
        }

        // íŒŒì¼ ì•„ì´ì½˜ ê°€ì ¸ì˜¤ê¸°
        function getFileIcon(fileType) {
            if (fileType.startsWith('audio/')) return 'ğŸµ';
            if (fileType.startsWith('video/')) return 'ğŸ¬';
            if (fileType.startsWith('image/')) return 'ğŸ–¼ï¸';
            if (fileType === 'application/pdf') return 'ğŸ“„';
            if (fileType.includes('document')) return 'ğŸ“';
            return 'ğŸ“';
        }

        // íŒŒì¼ í¬ê¸° í¬ë§·
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
        function downloadFile(fileName, fileData) {
            try {
                const link = document.createElement('a');
                link.href = fileData;
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification(`${fileName} íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí–ˆìŠµë‹ˆë‹¤.`, 'success');
                addRecentActivity(`${fileName} íŒŒì¼ ë‹¤ìš´ë¡œë“œ`, 'ë°©ê¸ˆ ì „');
            } catch (error) {
                showNotification('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'warning');
                console.error('File download error:', error);
            }
        }
    </script>
</body>
</html>
